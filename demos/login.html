<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rosy UI â€” Auth Modals</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* ===== Your Base Theme (pasted) ===== */
    * {
      box-sizing: border-box;
    }

    html {
      font-size: clamp(16px, 0.9vw + 12px, 20px);
    }

    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #fdf6f8;
      color: #8d7b8d;
    }

    a {
      color: inherit;
    }

    :where(a, button, input, .brand, .eyebrow):focus-visible {
      outline: 3px dashed #b18597;
      outline-offset: 3px;
    }

    .container {
      max-width: min(90rem, 100% - 4rem);
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    button {
      position: relative;
      display: inline-block;
      cursor: pointer;
      outline: none;
      border: 0;
      vertical-align: middle;
      text-decoration: none;
      font-family: inherit;
      font-size: 15px;
    }

    button.learn-more {
      position: relative;
      display: inline-block;
      cursor: pointer;
      outline: none;
      border: 2px solid #b18597;
      border-radius: 0.75em;
      vertical-align: middle;
      text-decoration: none;
      font-family: inherit;
      font-size: 15px;
      font-weight: 600;
      color: #a192a1;
      text-transform: uppercase;
      padding: 1.1em 1.8em;
      background: #fff0f0;
      overflow: visible;
      transform-style: preserve-3d;
      transition: background 150ms cubic-bezier(0, 0, 0.58, 1), transform 150ms cubic-bezier(0, 0, 0.58, 1);
    }

    button.learn-more::before {
      position: absolute;
      content: '';
      inset: 0;
      background: #f9c4d2;
      border-radius: inherit;
      box-shadow: 0 0 0 2px #b18597, 0 0.625em 0 0 #ffe3e200;
      transform: translate3d(0, 0.75em, -1em);
      transition: transform 150ms cubic-bezier(0, 0, 0.58, 1), box-shadow 150ms cubic-bezier(0, 0, 0.58, 1);
      pointer-events: none;
    }

    button.learn-more:active {
      background: #ffe9e9;
      transform: translate(0em, 0.75em);
    }

    button.learn-more:active::before {
      box-shadow: 0 0 0 2px #b18597, 0 0 #ffe3e2;
      transform: translate3d(0, 0, -1em);
    }

    .eyebrow {
      display: inline-block;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .12em;
      font-size: .8rem;
      color: #a192a1;
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: .75rem;
      padding: .35rem .6rem;
      box-shadow: 0 0.45em 0 0 #ffe3e2;
    }

    /* ===== Minimal demo header ===== */
    .demo-header {
      padding: clamp(2rem, 6vw, 4rem) 0;
      border-bottom: 2px solid #b18597;
      background: radial-gradient(1200px 600px at 10% 10%, #ffe3e8 0%, #fff0f0 40%, #fdf6f8 100%);
      position: relative;
      overflow: hidden;
    }

    .sparkle {
      position: absolute;
      inset: auto auto -40px -40px;
      width: clamp(180px, 18vw, 280px);
      height: clamp(180px, 18vw, 280px);
      background: #f9c4d2;
      filter: blur(30px);
      opacity: .6;
      border-radius: 50%;
    }

    .blob {
      position: absolute;
      inset: -60px -80px auto auto;
      width: clamp(260px, 28vw, 520px);
      height: clamp(260px, 28vw, 520px);
      background: #ffe3e8;
      border: 2px solid #b18597;
      border-radius: 45% 55% 60% 40% / 40% 45% 55% 60%;
      transform: rotate(8deg);
      box-shadow: 0 0.6em 0 0 #ffe3e2;
      opacity: .5;
    }

    /* ===== Auth Modal System ===== */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(141, 123, 141, 0.35);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      opacity: 0;
      pointer-events: none;
      transition: opacity .25s ease;
      z-index: 80;
    }

    .modal-backdrop.active {
      opacity: 1;
      pointer-events: auto;
    }

    .modal {
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      padding: 2rem;
      z-index: 90;
      pointer-events: none;
    }

    .modal-inner {
      width: min(100%, 38rem);
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: 1rem;
      box-shadow: 0 1.25em 2.25em rgba(177, 133, 151, .25);
      transform: translateY(20px) scale(.98);
      opacity: 0;
      transition: transform .25s ease, opacity .25s ease;
      position: relative;
      pointer-events: auto;
    }

    .modal.active .modal-inner {
      transform: translateY(0) scale(1);
      opacity: 1;
    }

    .modal-chrome {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .modal-chrome:before {
      content: "";
      position: absolute;
      inset: .6rem;
      border: 2px dashed #b18597;
      border-radius: .8rem;
      opacity: .7;
    }

    .m-blob {
      position: absolute;
      width: 220px;
      height: 220px;
      background: #ffe3e8;
      border: 2px solid #b18597;
      border-radius: 42% 58% 48% 52% / 54% 46% 54% 46%;
      right: -50px;
      top: -60px;
      transform: rotate(-8deg);
      opacity: .35;
      box-shadow: 0 .5em 0 0 #ffe3e2;
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      padding: 1rem 1rem .25rem;
    }

    .modal-title {
      display: flex;
      align-items: center;
      gap: .6rem;
    }

    .badge {
      width: 36px;
      height: 36px;
      display: grid;
      place-items: center;
      background: #f9c4d2;
      border: 2px solid #b18597;
      box-shadow: 0 .45em 0 0 #ffe3e2;
      border-radius: .75rem;
      color: #a192a1;
      font-weight: 700;
    }

    .icon-btn {
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: .6rem;
      padding: .55rem;
      display: inline-grid;
      place-items: center;
      box-shadow: 0 .45em 0 0 #ffe3e2;
    }

    .icon-btn svg {
      width: 18px;
      height: 18px;
      fill: #a192a1;
    }

    .tabs {
      padding: 0 1rem;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: .5rem;
    }

    .tab {
      font-weight: 700;
      letter-spacing: .06em;
      text-transform: uppercase;
      background: #fff0f0;
      color: #a192a1;
      border: 2px solid #b18597;
      border-radius: .7rem;
      padding: .65rem .75rem;
      box-shadow: 0 .45em 0 0 #ffe3e2;
      text-align: center;
      cursor: pointer;
    }

    .tab[aria-selected="true"] {
      background: #ffe9e9;
    }

    .panel {
      display: none;
      padding: 1rem;
    }

    .panel.active {
      display: block;
    }

    .form {
      display: grid;
      gap: .9rem;
      padding: 0 1rem 1.25rem;
    }

    .field {
      display: grid;
      gap: .35rem;
    }

    .label-row {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: .5rem;
    }

    label {
      font-size: .9rem;
      color: #a192a1;
      font-weight: 700;
      letter-spacing: .04em;
      text-transform: uppercase;
    }

    .input,
    .select {
      width: 100%;
      appearance: none;
      background: #fff0f0;
      color: #8d7b8d;
      border: 2px solid #b18597;
      border-radius: .75rem;
      padding: 1rem 1rem;
      font: inherit;
      box-shadow: 0 .45em 0 0 #ffe3e2;
    }

    .input::placeholder {
      color: #b29ead;
    }

    .row {
      display: grid;
      gap: .75rem;
    }

    @media (min-width: 640px) {
      .row.two {
        grid-template-columns: 1fr 1fr;
      }
    }

    .help {
      font-size: .9rem;
      color: #9a879a;
    }

    .actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: .75rem;
      padding: 0 1rem 1rem;
    }

    .linkish {
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .08em;
      font-size: .8rem;
      color: #a192a1;
      border: 2px dashed transparent;
      padding: .3rem .5rem;
      border-radius: .5rem;
      text-decoration: none;
    }

    .linkish:hover {
      border-color: #b18597;
      background: #ffe9e9;
    }

    /* Error/valid states (basic) */
    .input[aria-invalid="true"] {
      border-color: #d66b89;
      box-shadow: 0 .45em 0 0 #f4c0cc;
    }

    .error {
      color: #b95877;
      font-size: .9rem;
    }

    /* Small utility to hide elements visually but keep for SR */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Demo page layout */
    .demo-grid {
      display: grid;
      gap: 1rem;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      padding: 2rem 0;
    }

    .card {
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: 1em;
      padding: clamp(1.5em, 2.5vw, 2.5em);
      width: 100%;
      max-width: 420px;
      text-align: center;
      box-shadow: 0 0.5em 1em rgba(177, 133, 151, 0.2);
      margin: 0 auto;
    }

    .card h3 {
      color: #a192a1;
      margin-bottom: 0.5em;
      font-size: clamp(1.1rem, 1.4vw, 1.4rem);
    }

    .card p {
      color: #8d7b8d;
      font-size: clamp(0.98rem, 1.1vw, 1.1rem);
      line-height: 1.6;
      margin-bottom: 1.5em;
    }
  </style>
</head>

<body>
  <header class="demo-header">
    <div class="container">
      <span class="eyebrow">Auth Modals</span>
      <h1 class="headline" style="margin:.8rem 0 0; font-size:clamp(2rem,5.5vw,3.5rem);">Login Â· Register Â· Change
        Password</h1>
      <p class="subhead" style="max-width:60ch">Drop-in, accessible modals that match your rosy aesthetic: soft borders,
        subtle shadows, and tactile buttons.</p>
      <div class="cta-row">
        <button class="learn-more btn-lg" data-open-modal data-target="login">Open Login</button>
        <button class="learn-more btn-lg" data-open-modal data-target="register">Open Register</button>
        <button class="learn-more" data-open-modal data-target="change">Open Change Password</button>
      </div>
    </div>
    <span class="sparkle"></span>
    <span class="blob"></span>
  </header>

  <main class="container">
    <section class="section-card">
      <div class="demo-grid">
        <div class="card">
          <h3>How it works</h3>
          <p>Use <code>data-open-modal</code> on any trigger. Set <code>data-target</code> to <em>login</em>,
            <em>register</em>, or <em>change</em>.</p>
          <button class="learn-more" data-open-modal data-target="login">Try Login</button>
        </div>
        <div class="card">
          <h3>Keyboard Friendly</h3>
          <p>Esc to close, Tab to cycle, focus returns to the trigger. Backdrop click also closes.</p>
          <button class="learn-more" data-open-modal data-target="register">Try Register</button>
        </div>
        <div class="card">
          <h3>Lightweight</h3>
          <p>No frameworks required. Plug in your API calls in the submit handlers.</p>
          <button class="learn-more" data-open-modal data-target="change">Try Change Password</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Backdrop -->
  <div class="modal-backdrop" id="backdrop" aria-hidden="true"></div>

  <!-- Modal Root -->
  <div class="modal" id="authModal" aria-hidden="true">
    <div class="modal-inner" role="dialog" aria-modal="true" aria-labelledby="auth-title">
      <div class="modal-chrome" aria-hidden="true">
        <span class="m-blob"></span>
      </div>

      <div class="modal-header">
        <div class="modal-title">
          <span class="badge">â˜…</span>
          <h2 id="auth-title" class="mb-0" style="letter-spacing:.3px; color:#8d7b8d">Welcome back</h2>
        </div>
        <button class="icon-btn" aria-label="Close dialog" data-close-modal>
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M18.3 5.7a1 1 0 0 0-1.4-1.4L12 9.17 7.1 4.3a1 1 0 1 0-1.4 1.4L10.83 12l-5.13 4.9a1 1 0 1 0 1.4 1.45L12 14.83l4.9 4.92a1 1 0 0 0 1.45-1.4L13.17 12l5.13-4.9Z" />
          </svg>
        </button>
      </div>

      <!-- Tabs -->
      <div class="tabs" role="tablist" aria-label="Authentication tabs">
        <button class="tab" role="tab" id="tab-login" aria-controls="panel-login" aria-selected="true">Login</button>
        <button class="tab" role="tab" id="tab-register" aria-controls="panel-register"
          aria-selected="false">Register</button>
        <button class="tab" role="tab" id="tab-change" aria-controls="panel-change"
          aria-selected="false">Change</button>
      </div>

      <!-- Panels -->
      <section class="panel active" id="panel-login" role="tabpanel" aria-labelledby="tab-login">
        <form class="form" id="form-login">
          <div class="field">
            <div class="label-row"><label for="login-email">Email</label></div>
            <input class="input" id="login-email" name="email" type="email" autocomplete="email"
              placeholder="you@example.com" required />
          </div>
          <div class="field">
            <div class="label-row"><label for="login-password">Password</label><a class="linkish" href="#"
                data-switch="change">Forgot?</a></div>
            <input class="input" id="login-password" name="password" type="password" autocomplete="current-password"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required minlength="6" />
          </div>
          <div class="actions">
            <label class="help"><input type="checkbox" style="accent-color:#b18597; margin-right:.4rem;"
                name="remember" /> Remember me</label>
            <button class="learn-more" type="submit">Sign in</button>
          </div>
          <p class="help" style="padding:0 1rem;">No account yet? <a class="linkish" href="#"
              data-switch="register">Create one</a>.</p>
        </form>
      </section>

      <section class="panel" id="panel-register" role="tabpanel" aria-labelledby="tab-register" hidden>
        <form class="form" id="form-register">
          <div class="row two">
            <div class="field">
              <div class="label-row"><label for="reg-name">Full name</label></div>
              <input class="input" id="reg-name" name="name" type="text" placeholder="Alex Rose" required />
            </div>
            <div class="field">
              <div class="label-row"><label for="reg-email">Email</label></div>
              <input class="input" id="reg-email" name="email" type="email" placeholder="you@example.com" required />
            </div>
          </div>
          <div class="row two">
            <div class="field">
              <div class="label-row"><label for="reg-password">Password</label></div>
              <input class="input" id="reg-password" name="password" type="password" placeholder="At least 8 characters"
                minlength="8" required />
            </div>
            <div class="field">
              <div class="label-row"><label for="reg-confirm">Confirm</label></div>
              <input class="input" id="reg-confirm" name="confirm" type="password" placeholder="Repeat password"
                minlength="8" required />
            </div>
          </div>
          <label class="help"><input type="checkbox" style="accent-color:#b18597; margin-right:.4rem;" required /> I
            agree to the terms.</label>
          <div class="actions">
            <a class="linkish" href="#" data-switch="login">Have an account?</a>
            <button class="learn-more" type="submit">Create account</button>
          </div>
          <div class="error" id="register-error" aria-live="polite"></div>
        </form>
      </section>

      <section class="panel" id="panel-change" role="tabpanel" aria-labelledby="tab-change" hidden>
        <form class="form" id="form-change">
          <div class="field">
            <div class="label-row"><label for="chg-email">Email</label></div>
            <input class="input" id="chg-email" name="email" type="email" placeholder="you@example.com" required />
          </div>
          <div class="field">
            <div class="label-row"><label for="chg-code">Reset code</label><span class="help">(check your email)</span>
            </div>
            <input class="input" id="chg-code" name="code" type="text" inputmode="numeric" placeholder="6-digit code"
              minlength="6" maxlength="6" required />
          </div>
          <div class="row two">
            <div class="field">
              <div class="label-row"><label for="chg-password">New password</label></div>
              <input class="input" id="chg-password" name="password" type="password" placeholder="At least 8 characters"
                minlength="8" required />
            </div>
            <div class="field">
              <div class="label-row"><label for="chg-confirm">Confirm</label></div>
              <input class="input" id="chg-confirm" name="confirm" type="password" placeholder="Repeat password"
                minlength="8" required />
            </div>
          </div>
          <div class="actions">
            <a class="linkish" href="#" data-switch="login">Back to login</a>
            <button class="learn-more" type="submit">Update password</button>
          </div>
          <div class="error" id="change-error" aria-live="polite"></div>
        </form>
      </section>

    </div>
  </div>

  <script>
    // ===== Modal + Tabs controller =====
    const modal = document.getElementById('authModal');
    const backdrop = document.getElementById('backdrop');
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const panels = Array.from(document.querySelectorAll('.panel'));

    let lastTrigger = null; // to restore focus

    function openModal(target = 'login') {
      lastTrigger = document.activeElement;
      backdrop.classList.add('active');
      modal.classList.add('active');
      modal.removeAttribute('aria-hidden');
      backdrop.removeAttribute('aria-hidden');
      switchTo(target);
      // Focus first field
      const first = modal.querySelector('.panel.active .input');
      if (first) first.focus();
      // Enable basic focus trap
      document.addEventListener('keydown', onKeydown);
    }

    function closeModal() {
      backdrop.classList.remove('active');
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden', 'true');
      backdrop.setAttribute('aria-hidden', 'true');
      document.removeEventListener('keydown', onKeydown);
      if (lastTrigger) lastTrigger.focus();
    }

    function onKeydown(e) {
      if (e.key === 'Escape') { closeModal(); }
      if (e.key === 'Tab') {
        // very small trap: keep focus inside dialog
        const focusables = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        const list = Array.from(focusables).filter(el => !el.hasAttribute('disabled') && el.offsetParent !== null);
        if (!list.length) return;
        const first = list[0];
        const last = list[list.length - 1];
        if (e.shiftKey && document.activeElement === first) { last.focus(); e.preventDefault(); }
        else if (!e.shiftKey && document.activeElement === last) { first.focus(); e.preventDefault(); }
      }
    }

    function switchTo(which) {
      const map = { login: 0, register: 1, change: 2 };
      const idx = typeof which === 'number' ? which : map[which] ?? 0;
      tabs.forEach((t, i) => {
        const selected = i === idx;
        t.setAttribute('aria-selected', selected);
      });
      panels.forEach((p, i) => {
        if (i === idx) { p.classList.add('active'); p.removeAttribute('hidden'); }
        else { p.classList.remove('active'); p.setAttribute('hidden', ''); }
      });
      const title = ['Welcome back', 'Create your account', 'Change password'][idx];
      document.getElementById('auth-title').textContent = title;
    }

    // Triggers
    document.querySelectorAll('[data-open-modal]').forEach(btn => {
      btn.addEventListener('click', () => openModal(btn.getAttribute('data-target')));
    });
    document.querySelectorAll('[data-close-modal]').forEach(btn => btn.addEventListener('click', closeModal));
    backdrop.addEventListener('click', closeModal);

    // Tab buttons
    tabs.forEach((tab, i) => tab.addEventListener('click', () => switchTo(i)));

    // Cross-links (Forgot? / Have an account? etc.)
    document.querySelectorAll('[data-switch]').forEach(link => {
      link.addEventListener('click', (e) => { e.preventDefault(); switchTo(link.getAttribute('data-switch')); });
    });

    // ===== Basic client-side checks (examples) =====
    document.getElementById('form-register').addEventListener('submit', (e) => {
      e.preventDefault();
      const pwd = document.getElementById('reg-password').value;
      const confirm = document.getElementById('reg-confirm').value;
      const err = document.getElementById('register-error');
      if (pwd !== confirm) { err.textContent = 'Passwords do not match.'; return; }
      err.textContent = '';
      // TODO: replace with your API call
      alert('ðŸŽ‰ Account created (demo). Hook up your API here.');
      closeModal();
    });

    document.getElementById('form-login').addEventListener('submit', (e) => {
      e.preventDefault();
      // TODO: replace with your API call
      alert('âœ… Logged in (demo). Hook up your API here.');
      closeModal();
    });

    document.getElementById('form-change').addEventListener('submit', (e) => {
      e.preventDefault();
      const pwd = document.getElementById('chg-password').value;
      const confirm = document.getElementById('chg-confirm').value;
      const err = document.getElementById('change-error');
      if (pwd !== confirm) { err.textContent = 'New password and confirmation do not match.'; return; }
      err.textContent = '';
      // TODO: replace with your API call
      alert('ðŸ”’ Password updated (demo). Hook up your API here.');
      closeModal();
    });
  </script>
</body>

</html>
