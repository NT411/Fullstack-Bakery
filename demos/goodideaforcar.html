<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TheSweetBaker Co. â€” Order Sweets</title>
  <style>
    /* ========== Base (kept to match provided style) ========== */
    * {
      box-sizing: border-box;
    }

    html {
      font-size: clamp(16px, 0.9vw + 12px, 20px);
    }

    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #fdf6f8;
      color: #8d7b8d;
    }

    a {
      color: inherit;
    }

    :where(a, button, input, select, .brand, .eyebrow):focus-visible {
      outline: 3px dashed #b18597;
      outline-offset: 3px;
    }

    .container {
      max-width: min(90rem, 100% - 4rem);
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    /* ========== Buttons ========== */
    button {
      position: relative;
      display: inline-block;
      cursor: pointer;
      outline: none;
      border: 0;
      vertical-align: middle;
      text-decoration: none;
      font-family: inherit;
      font-size: 15px;
    }

    button.learn-more {
      position: relative;
      display: inline-block;
      cursor: pointer;
      outline: none;
      border: 2px solid #b18597;
      border-radius: 0.75em;
      vertical-align: middle;
      text-decoration: none;
      font-family: inherit;
      font-size: 15px;
      font-weight: 600;
      color: #a192a1;
      text-transform: uppercase;
      padding: 1.1em 1.8em;
      background: #fff0f0;
      overflow: visible;
      transform-style: preserve-3d;
      transition: background 150ms cubic-bezier(0, 0, 0.58, 1), transform 150ms cubic-bezier(0, 0, 0.58, 1);
    }

    button.learn-more::before {
      position: absolute;
      content: '';
      inset: 0;
      background: #f9c4d2;
      border-radius: inherit;
      box-shadow: 0 0 0 2px #b18597, 0 0.625em 0 0 #ffe3e200;
      transform: translate3d(0, 0.75em, -1em);
      transition: transform 150ms cubic-bezier(0, 0, 0.58, 1), box-shadow 150ms cubic-bezier(0, 0, 0.58, 1);
      pointer-events: none;
    }

    button.learn-more:active {
      background: #ffe9e9;
      transform: translate(0em, 0.75em);
    }

    button.learn-more:active::before {
      box-shadow: 0 0 0 2px #b18597, 0 0 #ffe3e2;
      transform: translate3d(0, 0, -1em);
    }

    .btn-ghost {
      border: 2px dashed #b18597;
      background: #fff0f0;
      color: #a192a1;
      padding: .9em 1.2em;
      border-radius: .75rem;
      font-weight: 600;
    }

    .btn-icon {
      display: inline-grid;
      place-items: center;
      width: 40px;
      height: 40px;
      border-radius: .6rem;
      border: 2px solid #b18597;
      background: #fff0f0;
      box-shadow: 0 .45em 0 0 #ffe3e2;
    }

    .tag {
      display: inline-block;
      padding: .35rem .6rem;
      border: 2px solid #b18597;
      border-radius: .6rem;
      background: #ffe9e9;
      color: #a192a1;
      font-weight: 700;
      font-size: .78rem;
      text-transform: uppercase;
      letter-spacing: .06em;
    }

    /* ========== Navbar ========== */
    .navbar {
      position: sticky;
      top: 0;
      z-index: 50;
      background: #fff0f0;
      border-bottom: 2px solid #b18597;
      box-shadow: 0 0.5em 1em rgba(177, 133, 151, 0.12);
    }

    .nav-inner {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.75rem 0;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: .6rem;
      text-decoration: none;
      color: #8d7b8d;
      font-weight: 700;
      font-size: 1.05rem;
      letter-spacing: .3px;
    }

    .brand-badge {
      width: 34px;
      height: 34px;
      border-radius: 0.75em;
      background: #f9c4d2;
      border: 2px solid #b18597;
      box-shadow: 0 0.35em 0 0 #ffe3e2;
      display: grid;
      place-items: center;
      font-size: .9rem;
      color: #a192a1;
      user-select: none;
    }

    .spacer {
      flex: 1 1 auto;
    }

    .nav-links {
      display: none;
      gap: 1rem;
      align-items: center;
    }

    .nav-links a {
      font-weight: 600;
      text-decoration: none;
      text-transform: uppercase;
      font-size: .85rem;
      color: #a192a1;
      padding: .6rem .8rem;
      border-radius: .6rem;
      border: 2px solid transparent;
    }

    .nav-links a:hover {
      border-color: #b18597;
      background: #ffe9e9;
    }

    .cta {
      display: none;
      align-items: center;
      gap: .75rem;
    }

    .hamburger {
      display: inline-grid;
      gap: .25rem;
      padding: .6rem;
      border-radius: .6rem;
      border: 2px solid #b18597;
      background: #fff0f0;
      cursor: pointer;
    }

    .hamburger span {
      display: block;
      width: 22px;
      height: 2px;
      background: #a192a1;
    }

    .mobile-panel {
      display: none;
      border-top: 2px solid #b18597;
      background: #fff0f0;
    }

    .mobile-panel a {
      display: block;
      padding: .9rem 1rem;
      text-decoration: none;
      color: #8d7b8d;
      font-weight: 600;
      text-transform: uppercase;
      border-bottom: 1px dashed #b18597;
    }

    .mobile-actions {
      padding: 1rem;
      display: grid;
      gap: .75rem;
    }

    @media (min-width: 900px) {
      .hamburger {
        display: none;
      }

      .nav-links {
        display: flex;
      }

      .cta {
        display: flex;
      }

      .mobile-panel {
        display: none !important;
      }
    }

    /* ========== Hero ========== */
    .banner {
      position: relative;
      overflow: hidden;
      background: radial-gradient(1200px 600px at 10% 10%, #ffe3e8 0%, #fff0f0 40%, #fdf6f8 100%);
      border-bottom: 2px solid #b18597;
    }

    .banner-inner {
      display: grid;
      gap: clamp(1.5rem, 4vw, 3rem);
      align-items: center;
      padding: clamp(3rem, 6vw, 8rem) 0 clamp(4rem, 7vw, 9rem);
    }

    @media (min-width: 900px) {
      .banner-inner {
        grid-template-columns: 1.1fr 0.9fr;
      }
    }

    .eyebrow {
      display: inline-block;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .12em;
      font-size: .8rem;
      color: #a192a1;
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: .75rem;
      padding: .4rem .7rem;
      box-shadow: 0 0.45em 0 0 #ffe3e2;
    }

    .headline {
      margin: 1rem 0 .5rem;
      font-size: clamp(2.25rem, 6vw, 4.5rem);
      line-height: 1.1;
      color: #8d7b8d;
    }

    .subhead {
      margin: 0 0 1.5rem;
      font-size: clamp(1.05rem, 2.2vw, 1.5rem);
      line-height: 1.6;
      color: #9a879a;
      max-width: 65ch;
    }

    .sparkle {
      position: absolute;
      inset: auto auto -40px -40px;
      width: clamp(180px, 18vw, 280px);
      height: clamp(180px, 18vw, 280px);
      background: #f9c4d2;
      filter: blur(30px);
      opacity: .6;
      border-radius: 50%;
    }

    .blob {
      position: absolute;
      inset: -60px -80px auto auto;
      width: clamp(260px, 28vw, 520px);
      height: clamp(260px, 28vw, 520px);
      background: #ffe3e8;
      border: 2px solid #b18597;
      border-radius: 45% 55% 60% 40% / 40% 45% 55% 60%;
      transform: rotate(8deg);
      box-shadow: 0 0.6em 0 0 #ffe3e2;
      opacity: .5;
    }

    .illus {
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: 1.25rem;
      padding: clamp(1rem, 2vw, 1.75rem);
      box-shadow: 0 0.8em 1.5em rgba(177, 133, 151, .18);
    }

    /* ========== Shop Layout ========== */
    .shop {
      padding: clamp(2.5rem, 5vw, 4rem) 0;
    }

    .shop-grid {
      display: grid;
      gap: 1.25rem;
      grid-template-columns: 1fr;
    }

    @media (min-width: 1024px) {
      .shop-grid {
        grid-template-columns: 1fr 360px;
        align-items: start;
      }
    }

    /* Filters */
    .filters {
      display: grid;
      gap: .8rem;
      grid-template-columns: 1fr;
      align-items: end;
      padding: 1rem;
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: 1rem;
      box-shadow: 0 0.6em 1.2em rgba(177, 133, 151, .12);
    }

    @media (min-width: 760px) {
      .filters {
        grid-template-columns: 2fr 1fr 1fr;
      }
    }

    .filters label {
      font-weight: 700;
      font-size: .85rem;
      color: #a192a1;
      display: block;
      margin-bottom: .35rem;
    }

    .filters select,
    .filters input[type="search"] {
      width: 100%;
      appearance: none;
      background: #fff0f0;
      color: #8d7b8d;
      border: 2px solid #b18597;
      border-radius: .75rem;
      padding: .7rem .9rem;
      font: inherit;
      box-shadow: 0 .45em 0 0 #ffe3e2;
    }

    /* Product Grid */
    .category {
      margin-top: 1.5rem;
    }

    .category h3 {
      margin: 0 0 .5rem;
      font-size: clamp(1.2rem, 2.4vw, 1.6rem);
      color: #8d7b8d;
      display: flex;
      align-items: center;
      gap: .6rem;
    }

    .grid {
      display: grid;
      gap: 1rem;
    }

    @media (min-width: 680px) {
      .grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1200px) {
      .grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .product {
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: 1rem;
      padding: 1rem;
      display: grid;
      gap: .6rem;
      box-shadow: 0 .8em 1.5em rgba(177, 133, 151, .16);
    }

    .product h4 {
      margin: 0;
      color: #8d7b8d;
      font-size: 1.05rem;
    }

    .desc {
      margin: 0;
      color: #9a879a;
      line-height: 1.55;
    }

    .price {
      font-weight: 800;
      color: #8d7b8d;
    }

    .actions {
      display: flex;
      gap: .5rem;
      align-items: center;
    }

    .qty {
      display: inline-grid;
      grid-auto-flow: column;
      gap: .3rem;
      align-items: center;
    }

    .qty button {
      width: 38px;
      height: 38px;
      border-radius: .6rem;
      border: 2px solid #b18597;
      background: #fff0f0;
      box-shadow: 0 .45em 0 0 #ffe3e2;
      font-weight: 800;
      color: #a192a1;
    }

    .qty input {
      width: 54px;
      text-align: center;
      border: 2px solid #b18597;
      background: #fff0f0;
      border-radius: .6rem;
      padding: .4rem;
      font: inherit;
      color: #8d7b8d;
      box-shadow: 0 .35em 0 0 #ffe3e2;
    }

    .add {
      margin-left: auto;
    }

    /* Cart */
    .cart {
      position: sticky;
      top: 84px;
      background: #fff0f0;
      border: 2px solid #b18597;
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 .8em 1.5em rgba(177, 133, 151, .16);
    }

    .cart h3 {
      margin: 0 0 .6rem;
      color: #8d7b8d;
    }

    .cart-list {
      display: grid;
      gap: .6rem;
      max-height: 50vh;
      overflow: auto;
      padding-right: .25rem;
    }

    .cart-row {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: .35rem .6rem;
      align-items: center;
      border-bottom: 1px dashed #b18597;
      padding-bottom: .5rem;
    }

    .cart-row .name {
      font-weight: 700;
    }

    .cart-row .small {
      color: #9a879a;
      font-size: .9rem;
    }

    .cart-row .controls {
      display: inline-grid;
      grid-auto-flow: column;
      gap: .3rem;
      justify-self: end;
      align-items: center;
    }

    .cart-row .controls button {
      width: 28px;
      height: 28px;
      border-radius: .5rem;
      border: 2px solid #b18597;
      background: #fff0f0;
      font-weight: 800;
      color: #a192a1;
    }

    .summary {
      border-top: 2px dashed #b18597;
      margin-top: .75rem;
      padding-top: .75rem;
      display: grid;
      gap: .4rem;
    }

    .summary .line {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .checkout {
      margin-top: .75rem;
      width: 100%;
    }

    /* Mobile Cart Drawer */
    .cart-toggle {
      position: fixed;
      inset: auto 1rem 1rem auto;
      z-index: 60;
    }

    .drawer {
      position: fixed;
      inset: auto 0 0 0;
      background: #fff0f0;
      border-top: 2px solid #b18597;
      box-shadow: 0 -0.8em 1.5em rgba(177, 133, 151, .2);
      transform: translateY(100%);
      transition: transform .25s ease;
      z-index: 55;
    }

    .drawer.open {
      transform: translateY(0);
    }

    .drawer .cart {
      border: none;
      border-radius: 0;
      box-shadow: none;
      max-height: 70vh;
      overflow: auto;
    }

    @media (min-width: 1024px) {

      .cart-toggle,
      .drawer {
        display: none;
      }
    }

    /* Footer */
    footer.footer {
      background: linear-gradient(180deg, #fff0f0 0%, #ffe9ee 100%);
      border-top: 2px solid #b18597;
      position: relative;
      overflow: hidden;
    }

    .footer-inner {
      padding: clamp(2.5rem, 5vw, 4rem) 0 clamp(1.5rem, 3vw, 2.5rem);
      display: grid;
      gap: clamp(1.5rem, 3vw, 2rem);
    }

    .footer-bottom {
      margin-top: .5rem;
      border-top: 2px dashed #b18597;
      padding-top: 1rem;
      display: flex;
      gap: .75rem;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      color: #9a879a;
      font-size: clamp(.9rem, 1vw, 1rem);
    }

    /* Utilities */
    .mt-2 {
      margin-top: .5rem;
    }

    .mt-3 {
      margin-top: 1rem;
    }

    .mt-4 {
      margin-top: 1.5rem;
    }

    .mb-2 {
      margin-bottom: .5rem;
    }

    .mb-3 {
      margin-bottom: 1rem;
    }
  </style>
</head>

<body>
  <!-- ===================== NAVBAR ===================== -->
  <header class="navbar" role="banner">
    <div class="container nav-inner">
      <a href="#" class="brand"><span class="brand-badge">â˜¼</span>TheSweetBaker Co.</a>
      <div class="spacer"></div>
      <nav class="nav-links" aria-label="Primary">
        <a href="#hero">Home</a>
        <a href="#shop">Menu</a>
        <a href="#faq">FAQ</a>
        <a href="#contact">Contact</a>
      </nav>
      <div class="cta">
        <button class="learn-more" onclick="document.getElementById('shop').scrollIntoView({behavior:'smooth'});">Start
          Order</button>
      </div>
      <button class="hamburger" id="hamburger" aria-expanded="false" aria-controls="mobile-panel"
        aria-label="Open menu">
        <span></span><span></span><span></span>
      </button>
    </div>
    <div class="mobile-panel" id="mobile-panel">
      <a href="#hero">Home</a>
      <a href="#shop">Menu</a>
      <a href="#faq">FAQ</a>
      <a href="#contact">Contact</a>
      <div class="mobile-actions container">
        <button class="learn-more" onclick="document.getElementById('shop').scrollIntoView({behavior:'smooth'});">Start
          Order</button>
      </div>
    </div>
  </header>

  <!-- ===================== HERO ===================== -->
  <section class="banner" id="hero" role="region" aria-label="Hero">
    <span class="sparkle" aria-hidden="true"></span>
    <span class="blob" aria-hidden="true"></span>
    <div class="container banner-inner">
      <div>
        <span class="eyebrow">Bakery Order</span>
        <h1 class="headline">Fresh bakes, delivered with love</h1>
        <p class="subhead">Browse categories, add your favorites, and check out in a few clicks. All prices in
          <strong>â‚¬</strong>. Made daily, limited quantities.
        </p>
        <div class="cta-row">
          <button class="learn-more" onclick="document.getElementById('shop').scrollIntoView({behavior:'smooth'});">Shop
            Menu</button>
          <a class="btn-ghost" href="#faq">How ordering works</a>
        </div>
      </div>
      <div class="illus" aria-hidden="true">
        <div class="about-image">
          <img src="/Assets/pic-courses-hero.jpg" alt="Pastel bakery tools and sweets" />
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== SHOP ===================== -->
  <section class="shop" id="shop" aria-label="Shop">
    <div class="container shop-grid">
      <div>
        <!-- Filters -->
        <form class="filters" id="filters" aria-label="Filter items">
          <div>
            <label for="q">Search</label>
            <input type="search" id="q" placeholder="e.g., macaron, glutenâ€‘free, chocolate" />
          </div>
          <div>
            <label for="cat">Category</label>
            <select id="cat"></select>
          </div>
          <div>
            <label for="sort">Sort by</label>
            <select id="sort">
              <option value="popular">Recommended</option>
              <option value="priceAsc">Price: Low to High</option>
              <option value="priceDesc">Price: High to Low</option>
              <option value="alpha">A â†’ Z</option>
            </select>
          </div>
        </form>

        <!-- Product sections injected here -->
        <div id="menu"></div>
      </div>

      <!-- Cart Sidebar -->
      <aside class="cart" aria-label="Cart" id="cartSidebar">
        <h3>Order Summary</h3>
        <div class="cart-list" id="cartList"></div>
        <div class="summary">
          <div class="line"><span>Subtotal</span><strong id="subtotal">â‚¬0.00</strong></div>
          <div class="line"><span>Tax (incl.)</span><span class="small">EU VAT where applicable</span></div>
          <div class="line"><span>Estimated Total</span><strong id="total">â‚¬0.00</strong></div>
          <button class="learn-more checkout" id="checkoutBtn">Checkout</button>
          <button class="btn-ghost checkout" id="clearBtn" type="button">Clear Cart</button>
        </div>
      </aside>
    </div>
  </section>

  <!-- Mobile cart toggle -->
  <button class="btn-icon cart-toggle" id="cartToggle" aria-label="Open cart" title="Cart">ðŸ§º</button>
  <div class="drawer" id="drawer">
    <div class="container">
      <aside class="cart" aria-label="Cart (Mobile)">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;">
          <h3 style="margin:0;">Your Cart</h3>
          <button class="btn-ghost" id="closeDrawer" type="button">Close</button>
        </div>
        <div class="cart-list" id="cartListMobile"></div>
        <div class="summary">
          <div class="line"><span>Subtotal</span><strong id="subtotalM">â‚¬0.00</strong></div>
          <div class="line"><span>Estimated Total</span><strong id="totalM">â‚¬0.00</strong></div>
          <button class="learn-more checkout" id="checkoutBtnM">Checkout</button>
        </div>
      </aside>
    </div>
  </div>

  <!-- ===================== FAQ ===================== -->
  <section class="container mt-4" id="faq" aria-label="FAQ">
    <h2 style="font-size:clamp(1.8rem,4.5vw,3rem); margin:0 0 .75rem;">Frequently Asked Questions</h2>
    <details>
      <summary>When will my order be ready?</summary>
      <p>Sameâ€‘day pickup for orders placed before 2pm. Delivery windows appear at checkout based on your address.</p>
    </details>
    <details>
      <summary>Do you cater to dietary needs?</summary>
      <p>Yesâ€”see the <strong>Specialty Diet</strong> category for vegan, glutenâ€‘free, and sugarâ€‘free options.
        Crossâ€‘contact is minimized but not eliminated.</p>
    </details>
    <details>
      <summary>Is there a minimum order?</summary>
      <p>No minimum for pickup. â‚¬15 minimum for delivery.</p>
    </details>
  </section>

  <!-- ===================== FOOTER ===================== -->
  <footer class="footer" role="contentinfo" id="contact">
    <div class="container footer-inner">
      <div class="footer-bottom">
        <div>Â© <span id="year"></span> TheSweetBaker Co. All rights reserved.</div>
        <div class="legal">
          <a href="#">Privacy</a> Â· <a href="#">Terms</a> Â· <a href="#">Cookies</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // ==== Navbar mobile toggle ====
    const btn = document.getElementById('hamburger');
    const panel = document.getElementById('mobile-panel');
    btn.addEventListener('click', () => {
      const open = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', String(!open));
      panel.style.display = open ? 'none' : 'block';
    });

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // ====== Menu Data ======
    const MENU = [
      { cat: 'COOKIES & BISCUITS', name: 'Chocolate Chip', desc: 'Buttery cookie dotted with chocolate morsels.', price: 2.50 },
      { cat: 'COOKIES & BISCUITS', name: 'Shortbread', desc: 'Rich, crumbly classic with butter and sugar.', price: 2.20 },
      { cat: 'COOKIES & BISCUITS', name: 'Oatmeal Raisin', desc: 'Chewy oats, warm spice, sweet raisins.', price: 2.40 },
      { cat: 'COOKIES & BISCUITS', name: 'Macaron (French)', desc: 'Almond meringue shells with flavored ganache.', price: 3.20 },
      { cat: 'COOKIES & BISCUITS', name: 'Biscotti', desc: 'Twice-baked almond biscuit; perfect for dipping.', price: 2.80 },
      { cat: 'COOKIES & BISCUITS', name: 'Speculoos', desc: 'Crisp spiced biscuit with caramelized notes.', price: 2.30 },
      { cat: 'COOKIES & BISCUITS', name: 'Gingerbread', desc: 'Molasses and ginger spice, tender or snappy.', price: 2.60 },
      { cat: 'COOKIES & BISCUITS', name: 'Amaretti', desc: 'Chewy almond cookies, Italian cafÃ© favorite.', price: 3.00 },
      { cat: 'CAKES', name: 'Sponge Cake', desc: 'Airy base for layers and fruit.', price: 4.50 },
      { cat: 'CAKES', name: 'Butter Cake', desc: 'Tender crumb with rich butter flavor.', price: 4.80 },
      { cat: 'CAKES', name: 'Red Velvet', desc: 'Cocoa-tinged layers, cream cheese frosting.', price: 5.20 },
      { cat: 'CAKES', name: 'Carrot Cake', desc: 'Moist carrot crumb, warm spice, walnuts.', price: 5.00 },
      { cat: 'CAKES', name: 'Cheesecake', desc: 'Baked or no-bake, creamy and tangy.', price: 5.50 },
      { cat: 'CAKES', name: 'Black Forest', desc: 'Chocolate, cherries, Kirsch, whipped cream.', price: 5.40 },
      { cat: 'CAKES', name: 'Tiramisu', desc: 'Coffee-soaked layers with mascarpone cream.', price: 5.30 },
      { cat: 'PASTRIES', name: 'Croissant', desc: 'Flaky, buttery layers; classic French bake.', price: 2.70 },
      { cat: 'PASTRIES', name: 'Pain au Chocolat', desc: 'Croissant dough folded around dark chocolate.', price: 2.90 },
      { cat: 'PASTRIES', name: 'Danish', desc: 'Laminated pastry with custard or fruit.', price: 3.00 },
      { cat: 'PASTRIES', name: 'Ã‰clair', desc: 'Choux shell filled with cream, glazed top.', price: 3.20 },
      { cat: 'PASTRIES', name: 'Churros', desc: 'Crisp ridged fritter, cinnamon sugar.', price: 2.80 },
      { cat: 'PIES & TARTS', name: 'Apple Pie', desc: 'Buttery crust, spiced apples, lattice top.', price: 4.20 },
      { cat: 'PIES & TARTS', name: 'Lemon Meringue', desc: 'Zesty curd, pillowy meringue cap.', price: 4.60 },
      { cat: 'PIES & TARTS', name: 'PastÃ©is de Nata', desc: 'Portuguese custard tarts with blistered tops.', price: 2.90 },
      { cat: 'PIES & TARTS', name: 'Frangipane Tart', desc: 'Almond cream base, pears or berries.', price: 4.80 },
      { cat: 'DOUGHNUTS & FRIED', name: 'Yeast Doughnut', desc: 'Light, ring or filled; glazed or sugared.', price: 2.50 },
      { cat: 'DOUGHNUTS & FRIED', name: 'Cake Doughnut', desc: 'Tender crumb, classic sugar coat.', price: 2.40 },
      { cat: 'DOUGHNUTS & FRIED', name: 'Berliner / PÄ…czki', desc: 'Pillowy fried buns with jam or cream.', price: 2.80 },
      { cat: 'DOUGHNUTS & FRIED', name: 'Beignet', desc: 'New-Orleans style square pillows, sugar snow.', price: 3.00 },
      { cat: 'DOUGHNUTS & FRIED', name: 'Jalebi', desc: 'Crisp syrup-soaked spirals, saffron notes.', price: 2.30 },
      { cat: 'CUSTARDS & PUDDINGS', name: 'CrÃ¨me BrÃ»lÃ©e', desc: 'Silky custard with caramel glass top.', price: 4.80 },
      { cat: 'CUSTARDS & PUDDINGS', name: 'Panna Cotta', desc: 'Lightly set cream, fruit coulis.', price: 4.60 },
      { cat: 'CUSTARDS & PUDDINGS', name: 'Rice Pudding', desc: 'Comforting, creamy, spiced or citrus-zest.', price: 3.50 },
      { cat: 'CUSTARDS & PUDDINGS', name: 'Chocolate Mousse', desc: 'Whipped, airy chocolate cream.', price: 4.20 },
      { cat: 'FROZEN DESSERTS', name: 'Ice Cream', desc: 'Classic churned dairy, many flavors.', price: 3.00 },
      { cat: 'FROZEN DESSERTS', name: 'Gelato', desc: 'Dense Italian style, intense flavor.', price: 3.20 },
      { cat: 'FROZEN DESSERTS', name: 'Sorbet', desc: 'Fruit-forward, dairy-free refreshment.', price: 2.90 },
      { cat: 'FROZEN DESSERTS', name: 'Kulfi', desc: 'Indian slow-set ice cream, cardamom/pistachio.', price: 3.10 },
      { cat: 'FROZEN DESSERTS', name: 'Shaved Ice / KakigÅri', desc: 'Feathery ice with syrups & condensed milk.', price: 2.70 },
      { cat: 'CHOCOLATES & CONFECTIONS', name: 'Chocolate Truffles', desc: 'Ganache centers, cocoa or nut coatings.', price: 3.80 },
      { cat: 'CHOCOLATES & CONFECTIONS', name: 'Fudge', desc: 'Melt-in-mouth squares; chocolate/vanilla/maple.', price: 3.50 },
      { cat: 'CHOCOLATES & CONFECTIONS', name: 'Caramel / Toffee', desc: 'Slow-cooked sugar & cream/butter.', price: 3.00 },
      { cat: 'CHOCOLATES & CONFECTIONS', name: 'Brittle', desc: 'Crunchy caramel sheet with nuts or seeds.', price: 3.20 },
      { cat: 'CHOCOLATES & CONFECTIONS', name: 'Nougat / Torrone', desc: 'Honey-whipped with nuts and fruit.', price: 3.60 },
      { cat: 'BARS, BROWNIES & SQUARES', name: 'Brownies', desc: 'Fudgy or cakey chocolate squares.', price: 3.40 },
      { cat: 'BARS, BROWNIES & SQUARES', name: 'Blondies', desc: 'Vanilla-butter bars with caramel notes.', price: 3.30 },
      { cat: 'BARS, BROWNIES & SQUARES', name: 'Lemon Bars', desc: 'Tangy curd on shortbread base.', price: 3.50 },
      { cat: 'BARS, BROWNIES & SQUARES', name: 'Millionaireâ€™s Shortbread', desc: 'Shortbread, caramel layer, chocolate cap.', price: 3.80 },
      { cat: 'BREAKFAST SWEETS', name: 'Pancakes', desc: 'Fluffy stacks with syrup or fruit.', price: 4.00 },
      { cat: 'BREAKFAST SWEETS', name: 'Waffles', desc: 'Crisp grid, holds toppings perfectly.', price: 4.20 },
      { cat: 'BREAKFAST SWEETS', name: 'CrÃªpes', desc: 'Thin French pancakes; lemon sugar or Nutella.', price: 3.80 },
      { cat: 'BREAKFAST SWEETS', name: 'Cinnamon Rolls', desc: 'Spiral buns with cream cheese icing.', price: 4.30 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Baklava', desc: 'Flaky nuts & syrup pastry (Turkey/Levant).', price: 3.80 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Knafeh', desc: 'Shredded phyllo or semolina, cheese, syrup.', price: 4.50 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Gulab Jamun', desc: 'Milk-solids dumplings soaked in rose syrup.', price: 3.20 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Rasmalai', desc: 'Cottage-cheese patties in saffron milk.', price: 3.60 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Mochi / Daifuku', desc: 'Sweet glutinous rice cakes with fillings.', price: 2.90 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Egg Tart (HK/Macau)', desc: 'Buttery cups with silky egg custard.', price: 2.80 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Churros con Chocolate', desc: 'Spainâ€™s crispy sticks, thick hot chocolate.', price: 4.00 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Tres Leches', desc: 'Soaked sponge with three milks.', price: 4.60 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Brigadeiro', desc: 'Brazilian chocolate fudge bonbons.', price: 3.00 },
      { cat: 'GLOBAL & REGIONAL CLASSICS', name: 'Malva Pudding', desc: 'South African apricot-tinged sponge pudding.', price: 4.20 },
      { cat: 'SPECIALTY DIET', name: 'Vegan Cheesecake', desc: 'Cashew or tofu base, dairy-free creaminess.', price: 5.00 },
      { cat: 'SPECIALTY DIET', name: 'Gluten-Free Brownie', desc: 'Rich chocolate with almond/rice flour.', price: 3.60 },
      { cat: 'SPECIALTY DIET', name: 'Sugar-Free Ice Cream', desc: 'Sweetened with erythritol/stevia.', price: 3.20 }
    ];

    // ====== Helpers ======
    const fmt = v => `â‚¬${v.toFixed(2)}`;
    const idOf = (item) => `${item.cat}|${item.name}`;

    // ====== Build Category Filter ======
    const catSelect = document.getElementById('cat');
    const categories = [...new Set(MENU.map(m => m.cat))];
    catSelect.innerHTML = `<option value="">All categories</option>` + categories.map(c => `<option value="${c}">${c}</option>`).join('');

    // ====== Render Menu ======
    const menuEl = document.getElementById('menu');
    const q = document.getElementById('q');
    const sortSel = document.getElementById('sort');

    function groupBy(arr, key) { return arr.reduce((acc, it) => { (acc[it[key]] ||= []).push(it); return acc; }, {}); }

    function getFiltered() {
      const term = q.value.toLowerCase().trim();
      const cat = catSelect.value;
      let list = MENU.filter(m => (!cat || m.cat === cat) && (!term || (m.name + ' ' + m.desc).toLowerCase().includes(term)));
      switch (sortSel.value) {
        case 'priceAsc': list.sort((a, b) => a.price - b.price); break;
        case 'priceDesc': list.sort((a, b) => b.price - a.price); break;
        case 'alpha': list.sort((a, b) => a.name.localeCompare(b.name)); break;
        default: break;
      }
      return list;
    }

    function renderMenu() {
      const filtered = getFiltered();
      const byCat = groupBy(filtered, 'cat');
      menuEl.innerHTML = '';
      categories.forEach(cat => {
        if (!byCat[cat]) return;
        const section = document.createElement('section');
        section.className = 'category';
        section.innerHTML = `<h3><span class="tag">${cat}</span></h3><div class="grid"></div>`;
        const grid = section.querySelector('.grid');
        byCat[cat].forEach(item => {
          const card = document.createElement('article');
          card.className = 'product';
          card.innerHTML = `
            <h4>${item.name}</h4>
            <p class="desc">${item.desc}</p>
            <div style="display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;">
              <span class="price">${fmt(item.price)}</span>
              <div class="actions" data-id="${idOf(item)}">
                <div class="qty" aria-label="Quantity">
                  <button type="button" class="dec" aria-label="Decrease">âˆ’</button>
                  <input type="number" min="1" step="1" value="1" aria-label="Quantity input" />
                  <button type="button" class="inc" aria-label="Increase">+</button>
                </div>
                <button class="learn-more add" type="button">Add</button>
              </div>
            </div>
          `;
          grid.appendChild(card);
        });
        menuEl.appendChild(section);
      });
    }

    [q, catSelect, sortSel].forEach(el => el.addEventListener('input', renderMenu));

    // ====== Cart State ======
    let cart = JSON.parse(localStorage.getItem('tsb_cart') || '{}'); // id -> {qty, price, name}

    function saveCart() { localStorage.setItem('tsb_cart', JSON.stringify(cart)); }

    function addToCart(id, item, qty) {
      cart[id] = cart[id] || { name: item.name, price: item.price, qty: 0 };
      cart[id].qty += qty;
      if (cart[id].qty <= 0) delete cart[id];
      saveCart();
      renderCart();
    }

    function calcTotals() {
      const entries = Object.values(cart);
      const subtotal = entries.reduce((s, it) => s + it.price * it.qty, 0);
      return { subtotal, total: subtotal };
    }

    function renderCartLists() {
      const makeRow = (id, it) => `
        <div class="cart-row" data-id="${id}">
          <div class="name">${it.name}</div>
          <div class="controls">
            <button class="mdec" aria-label="Decrease">âˆ’</button>
            <span>${it.qty}</span>
            <button class="minc" aria-label="Increase">+</button>
          </div>
          <div class="small">${fmt(it.price)} each</div>
          <div style="justify-self:end; font-weight:700;">${fmt(it.price * it.qty)}</div>
        </div>`;

      const list = document.getElementById('cartList');
      const listM = document.getElementById('cartListMobile');
      const entries = Object.entries(cart);
      list.innerHTML = entries.length ? entries.map(([id, it]) => makeRow(id, it)).join('') : '<div class="small">Your cart is empty.</div>';
      listM.innerHTML = list.innerHTML;
    }

    function renderCartTotals() {
      const { subtotal, total } = calcTotals();
      document.getElementById('subtotal').textContent = fmt(subtotal);
      document.getElementById('total').textContent = fmt(total);
      document.getElementById('subtotalM').textContent = fmt(subtotal);
      document.getElementById('totalM').textContent = fmt(total);
    }

    function renderCart() { renderCartLists(); renderCartTotals(); }

    // ====== Wire product buttons ======
    menuEl.addEventListener('click', (e) => {
      const addBtn = e.target.closest('.add');
      if (!addBtn) return;
      const actions = e.target.closest('.actions');
      const id = actions.getAttribute('data-id');
      const item = MENU.find(m => idOf(m) === id);
      const qty = Math.max(1, parseInt(actions.querySelector('input').value || '1', 10));
      addToCart(id, item, qty);
    });

    menuEl.addEventListener('click', (e) => {
      const act = e.target.closest('.qty button');
      if (!act) return;
      const wrap = e.target.closest('.qty');
      const input = wrap.querySelector('input');
      const v = parseInt(input.value || '1', 10);
      if (e.target.classList.contains('dec')) input.value = Math.max(1, v - 1);
      if (e.target.classList.contains('inc')) input.value = v + 1;
    });

    // Cart +/- in sidebar & drawer
    function delegateCartClicks(rootEl) {
      rootEl.addEventListener('click', (e) => {
        const row = e.target.closest('.cart-row');
        if (!row) return;
        const id = row.getAttribute('data-id');
        if (e.target.classList.contains('mdec')) { cart[id].qty -= 1; if (cart[id].qty <= 0) delete cart[id]; saveCart(); renderCart(); }
        if (e.target.classList.contains('minc')) { cart[id].qty += 1; saveCart(); renderCart(); }
      });
    }
    delegateCartClicks(document.getElementById('cartList'));
    delegateCartClicks(document.getElementById('cartListMobile'));

    // Clear cart
    document.getElementById('clearBtn').addEventListener('click', () => { cart = {}; saveCart(); renderCart(); });

    // Checkout buttons (demo)
    function checkout() {
      if (!Object.keys(cart).length) { alert('Your cart is empty.'); return; }
      alert('Thank you! This demo does not process payments.');
    }
    document.getElementById('checkoutBtn').addEventListener('click', checkout);
    document.getElementById('checkoutBtnM').addEventListener('click', checkout);

    // Mobile drawer
    const drawer = document.getElementById('drawer');
    const cartToggle = document.getElementById('cartToggle');
    const closeDrawer = document.getElementById('closeDrawer');
    cartToggle.addEventListener('click', () => drawer.classList.add('open'));
    closeDrawer.addEventListener('click', () => drawer.classList.remove('open'));

    // Initial render
    renderMenu();
    renderCart();
  </script>
</body>

</html>
